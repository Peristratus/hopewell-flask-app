{% extends "base.html"%}
{% block content%}

    <h3 class="light-blue-text text-darken-4 center-align">Manage Categories</h3>
    
    <div class="row">
        <div class="col s12 center-align">
            <a href="{{url_for('add_category')}}" class="btn-large light-blue darken-2 text-shadow">
                Add Category <i class="fas fa-plus-square right"></i>
            </a>
        </div>
    </div>
    <div class="row">
        {% for category in categories %}
                <div class="col s12 m4">
                    <div class="card light-blue darken-4 text-shadow center-align">
                        <div class="card-content white-text">
                            <span class="card-title">{{category.category_name}}</span>
                        </div>
                        <div class="card-action">
                            <a href="{{url_for('edit_category', category_id=category._id)}}" class="btn green accent-4">Edit</a>
                            <a href="#{{category.category_name}}" class="btn red lighten-1 modal-trigger">Delete</a>
                        </div>
                    </div>
                </div>

                 <!-- Modal Structure -->
                <div id="{{category.category_name}}" class="modal col s10 m3">
                        <div class="modal-content">
                            <h4></h4>
                            <p>Are you sure you want to permenantly delete this category ? Select confirm to complete this action. </p>
                    
                        </div>
                       <div class="modal-footer">
                             
                              <a href="{{url_for('get_categories')}}" class="btn green accent-4">Cancel</a>
                               <a href="{{url_for('delete_category', category_id=category._id)}}" class="btn red lighten-1 " id="message">Confirm</a>
                       </div>
                </div>

            {% endfor %}
        </div>
    
        
     <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script>
        $(document).ready(function(){
          $('.modal').modal();
    });

  </script>

{% endblock %}